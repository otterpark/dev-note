# TDD(테스트 중심 개발) vs BDD(행동 중심 개발)

소프트웨어 개발을 논의할 때 `테스트 중심 개발(TDD)`과 `행동 중심 개발(BDD)`이라는 용어를 혼용하여 사용하는 경우가 많습니다. 그러나 이 두 가지 접근 방식에는 고려해야 할 중요한 차이점이 있습니다.

- `TDD(테스트 주도 개발)` - 목표는 코드를 최소화하고 목적에 맞게 유지하면서 애플리케이션 개발의 지속적인 주기에 걸쳐 우수한 회귀 테스트 커버리지를 보장하는 것입니다.

- `BDD(행동 중심 개발)` - 소프트웨어 개발 프로세스에서 이해관계자 간의 커뮤니케이션과 협업을 우선시함으로써 `TDD`를 확장하는 방법론입니다.

개별 단위 테스트에 중점을 두는 `TDD`와 달리 `BDD`는 **사용자 관점에서 시스템의 동작을 정의하여 비즈니스 요구 사항, 고객 기대치, 기술 구현 간의 격차를 해소하는 것을 목표**로 합니다.

## TDD(테스트 중심 개발)

`TDD`는 코드를 실제로 작성하기 전에 **코드 단위의 예상 결과를 설명하는 테스트를 작성하는 소프트웨어 개발 접근 방식**입니다. 테스트가 실행되면 이를 충족하는 프로덕션 코드가 없기 때문에 즉시 실패하게 됩니다. 그런 다음 프로덕션 코드를 최대한 깔끔하고 간결하게 작성하여 다음에 테스트가 실행될 때 테스트를 통과할 수 있도록 합니다.

궁극적으로 `TDD`는 특정 기능에 적합한 양질의, 테스트가 지원되는, 목적에 맞는 적절한 양의 코드를 생성하는 것을 목표로 합니다.

> `TDD`는 시간이 지남에 따라 프로젝트 코드의 유지보수성을 향상시키며, 단위 테스트를 지속적으로 실행하면 코드 리팩터링으로 인해 변경이 예정되지 않은 기능이 손상되지 않도록 보장하는 데 도움이 됩니다.

자동화된 테스트는 테스트 중심 개발에서 중요한 역할을 하며, 개발자는 코드에 대한 테스트를 자주 실행하여 진행 상황을 모니터링합니다. 모든 자동화된 테스트가 성공적으로 통과되면 개발자는 **소프트웨어가 테스트에서 설정한 승인 기준과 사양을 충족하는지 확인**할 수 있습니다.

### TDD 접근 방식 구현

1. `정확한 테스트를 개발` - 특정 기능의 기능을 확인하려면 개발자는 정확한 단위 테스트를 생성해야 합니다. 테스트가 실행되려면 테스트가 컴파일되는지 확인해야 합니다. 테스트는 거의 항상 실패할 것입니다. 개발자는 기능이 어떻게 작동할지에 대한 기대치를 기반으로 간결한 테스트를 작성하므로 이러한 실패는 매우 중요합니다.
2. `코드 수정` - 개발자는 테스트가 실패하면 필요에 따라 코드를 조정하여 다시 수행할 때 올바르게 작동하도록 해야 합니다.
3. `코드 개선` - 테스트 통과 후 중복 코드나 잠재적인 코드 최적화가 있는지 확인하여 성능을 개선합니다. 리팩터링이 프로그램의 외형적인 동작에 영향을 미치지 않도록 하세요.

### TDD 예시

#### 사용자 인증

TDD 방법론을 사용하여 사용자 로그인 기능에 대한 테스트 케이스를 생성한 다음 테스트를 통과하는 로그인 프로세스를 위한 코드를 작성하는 것이 사용자 인증 시스템 개발의 첫 번째 단계입니다. 로그인 기능이 성공적으로 테스트되면 등록, 비밀번호 재설정 및 계정 확인을 위한 추가 테스트 케이스가 준비됩니다.

#### 이커머스 웹사이트

TDD 방법론을 사용하여 **제품 목록, 장바구니 기능, 결제 절차 등 다양한 기능**에 대한 테스트 케이스를 작성할 수 있습니다. 장바구니에 물건을 추가하는 것부터 거래에 이르기까지 프로세스의 각 단계에서 시스템이 제대로 작동하는지 확인하기 위해 테스트가 구축됩니다.

## BDD(행동 중심 개발)

`테스트 중심 개발(TDD)`의 하위 집합을 `행동 중심 개발(BDD)`이라고 합니다. `BDD`는 **소프트웨어 사용자 요구 사항에 대한 사람이 읽을 수 있는 설명을 기반으로 소프트웨어 테스트를 수행**합니다. DDD(도메인 중심 설계)와 마찬가지로 이해관계자, 주제별 전문가 및 엔지니어 간에 공통 어휘를 정의하는 것은 BDD의 초기 단계입니다. 이 절차에서는 사용자에게 중요한 엔티티, 이벤트 및 출력을 모두가 동의할 수 있는 이름과 함께 정의합니다.

`BDD` 프레임워크 이전에는 모두가 `TDD`를 사용했습니다. 이해관계자가 활용 중인 프레임워크에 익숙하고 기술적인 이해가 충분하다면 `TDD`는 소프트웨어 개발에서 잘 작동합니다. 하지만 항상 그런 것은 아닙니다.

테스트 케이스는 영어와 같은 일반 텍스트로 작성되는 경우가 많기 때문에 `BDD`는 기술 팀과 비기술 팀 간의 간극을 좁힐 수 있는 방법을 제공합니다.

`BDD`의 주요 이점은 기술 전문 용어가 없고 더 간단하고 이해하기 쉬운 방법론이라는 점입니다.

### BDD 접근 방식 구현

BDD는 시나리오를 기반으로 테스트 케이스를 작성하며 함수 단위 테스트를 권장하지 않고, 시나리오는 개발자가 아닌 사람이 봐도 이해할 수 있는 정도의 레벨을 권장한다.

- `Feature` - 테스트에 대상의 기능/책임을 명시한다.
- `Scenario` - 테스트 목적에 대한 상황을 설명한다.
- `Given` - 시나리오 진행에 필요한 값을 설정한다.
- `When` - 시나리오를 진행하는데 필요한 조건을 명시한다.
- `Then` - 시나리오를 완료했을 때 보장해야 하는 결과를 명시한다.

### BDD 예시

만약 로그인 버튼을 BDD로 구현한다고 하면,

`Feature` - 로그인 버튼

- 사용자가 자신의 정보를 입력하고 버튼을 눌러 로그인할 수 있어야 합니다.
- 버튼은 사용자가 인증된 사용자 이름과 비밀번호를 입력하면 홈페이지로 이동해야 합니다.

---

#### `Scenario`: 사용자가 유효한 자격 증명을 입력함

`Given` - 사용자가 로그인 양식이 있는 페이지에 있다고 가정

`And` - 사용자가 사용자 이름 "TestUser"를 입력

`And` - 그리고 사용자가 비밀번호 "TestUser123"을 입력

`When` - 사용자가 로그인을 클릭하면?

`Then` - 사용자는 자신의 홈페이지로 이동합니다.

---

#### `Scenario`: 사용자가 비밀번호를 잊어버린 경우

`Given` - 사용자가 로그인 필드가 있는 페이지에 있다고 가정

`And` - 사용자가 사용자 이름 "testing1"을 입력

`When` - 사용자가 "비밀번호 찾기" 링크를 클릭하면?

`Then` - 사용자가 비밀번호 재설정 페이지로 이동합니다.

---

#### `Scenario`: 사용자가 잘못된 자격 증명을 입력한 경우

`Given` - 사용자가 로그인 필드가 있는 페이지에 있다고 가정

`And` - 사용자가 사용자 이름 "testUser1"을 입력

`And` - 사용자가 비밀번호 "Pass54321"을 입력

`When` - 사용자가 로그인 버튼을 클릭하면?

`Then` - 로그인 양식이 사용자 이름이 여전히 입력된 채로 오류 메시지와 함께 다시 표시됩니다.

## TDD(테스트 중심 개발)와 BDD(행동 중심 개발)의 차이점

분명 두 방법론의 공통적인 부분도 있지만 `BDD`와 `TDD`에는 몇 가지 차이점이 있습니다.

1. 💡 `TDD`와 `BDD`의 중요한 차이점 중 하나는 의도한 테스트 커버리지의 범위입니다. `TDD`는 **개별 유닛에 초점**을 맞추는 반면, `BDD`는 만족스러운 결과를 보장하기 위해 **소프트웨어에 대한 사용자의 경험**에 집중합니다.

2. 💡 `TDD`는 애플리케이션 코드를 작성하는 **개발자가 단독으로 수행**하는 반면, `BDD`는 **다양한 팀 역할의 여러 사람이 함께 모여 사용자 스토리 초안을 작성**합니다.
